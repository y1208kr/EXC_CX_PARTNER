<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ê³¨ë“ ë“€ CX ì—­ëŸ‰ ê°•í™” í”„ë¡œê·¸ë¨</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f9f9f9;
        }
        .slide {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            padding: 2.5rem;
            display: none; /* Initially hidden */
            flex-direction: column;
            justify-content: space-between; /* To push nav buttons to bottom */
            min-height: 700px;
            border: 1px solid #eee;
        }
        .gemini-button {
            background-color: #c5b358; /* Gold color */
            color: white;
            font-weight: bold;
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            transition: background-color 0.3s, transform 0.2s;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .gemini-button:hover {
            background-color: #b3a24f;
            transform: translateY(-2px);
        }
        .nav-button {
            background-color: #f1f1f1;
            color: #555;
            font-weight: bold;
            padding: 0.6rem 1.2rem;
            border-radius: 0.5rem;
            transition: all 0.3s;
        }
        .nav-button:hover {
            background-color: #e0e0e0;
        }
        .nav-button:disabled {
            background-color: #f9f9f9;
            color: #ccc;
            cursor: not-allowed;
        }
        .spinner {
            border: 4px solid rgba(0, 0, 0, 0.1);
            width: 36px;
            height: 36px;
            border-radius: 50%;
            border-left-color: #c5b358;
            animation: spin 1s ease infinite;
        }
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        header { background-color: #2c2c2c; }
        footer { background-color: #2c2c2c; }
        h1, h2, h3, h4 { color: #2c2c2c; }
        input, textarea, select {
             background-color: #fcfcfc;
             border-color: #e0e0e0;
        }
        input:focus, textarea:focus, select:focus {
            outline: none;
            border-color: #c5b358;
            box-shadow: 0 0 0 2px rgba(197, 179, 88, 0.2);
        }
        /* Progress Indicator Styles */
        .step { position: relative; }
        .step-circle {
            width: 2.5rem;
            height: 2.5rem;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            background-color: #e0e0e0;
            color: #757575;
            transition: all 0.3s ease;
            font-size: 1rem;
            border: 3px solid #e0e0e0;
        }
        .step-label { color: #757575; font-size: 0.8rem; margin-top: 0.5rem; transition: all 0.3s ease; }
        .step.active .step-circle { background-color: #c5b358; color: white; border-color: #c5b358;}
        .step.active .step-label { font-weight: bold; color: #c5b358; }
        .step.completed .step-circle { background-color: #fff; color: #c5b358; border-color: #c5b358;}
        .step-connector { flex-grow: 1; height: 3px; background-color: #e0e0e0; }
        .learning-objective {
            background-color: #fefbf1;
            border-left: 4px solid #c5b358;
            padding: 0.75rem 1rem;
            margin-bottom: 1.5rem;
        }
        .context-box {
            background-color: #f3f4f6; /* gray-100 */
            border-left: 4px solid #9ca3af; /* gray-400 */
            padding: 0.75rem 1rem;
            margin-bottom: 1.5rem;
            border-radius: 0.25rem;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-800">

    <header class="text-white text-center py-10 px-4 shadow-lg">
        <h1 class="text-4xl md:text-5xl font-black mb-2 text-white">Golden-Dew CX Professional</h1>
        <p class="text-lg md:text-xl text-[#c5b358]">AIì™€ í•¨ê»˜ ê³ ê° ê²½í—˜ì˜ ëª¨ë“  ìˆœê°„ì„ ë””ìì¸í•©ë‹ˆë‹¤.</p>
    </header>

    <main class="container mx-auto p-4 md:p-8 max-w-6xl">
        <div id="progress-indicator" class="flex items-center w-full mb-8"></div>
        <div id="slideshow-container" class="relative">
            <!-- Slide 1: ê³ ê° í˜ë¥´ì†Œë‚˜ ë§Œë“¤ê¸° -->
            <div class="slide">
                <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M1: ê³ ê° í˜ë¥´ì†Œë‚˜ ë§Œë“¤ê¸°</h2>
                        <span class="font-bold text-gray-400">1 / 7</span>
                    </div>
                    <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ê³ ê°ì„ ê¹Šì´ ìˆê²Œ ì´í•´í•˜ëŠ” ê²ƒì´ ëª¨ë“  CXì˜ ì‹œì‘ì„ì„ ì•Œê³ , í•µì‹¬ ê³ ê°ì˜ íŠ¹ì„±ì„ ì •ì˜í•˜ì—¬ ì´í›„ ëª¨ë“  ì „ëµì˜ ê¸°ì¤€ì ì„ ì„¤ì •í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="flex-grow flex flex-col justify-center">
                        <h3 class="text-xl font-bold mb-4 text-center">ğŸ’ ê³¨ë“ ë“€ì˜ í•µì‹¬ ê³ ê° í˜ë¥´ì†Œë‚˜ ì •ì˜í•˜ê¸°</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">ìš°ë¦¬ ë§¤ì¥ì„ ë°©ë¬¸í•˜ëŠ” ê³ ê°ì˜ íŠ¹ì„±ì„ êµ¬ì²´ì ìœ¼ë¡œ ì…ë ¥í•˜ì—¬ í˜ë¥´ì†Œë‚˜ë¥¼ ì™„ì„±í•˜ê³ , AIë¥¼ í†µí•´ ë§ì¶¤í˜• ì‘ëŒ€ ì „ëµì„ ì–»ì–´ë³´ì„¸ìš”.</p>
                        <div class="bg-gray-50 border border-gray-200 rounded-lg p-6 w-full max-w-3xl mx-auto">
                            <div class="space-y-4 text-sm">
                                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                    <div><label class="font-bold">í˜ë¥´ì†Œë‚˜ ì´ë¦„</label><input type="text" id="p1-name" class="w-full p-2 mt-1 border rounded" placeholder="ì˜ˆ: ì²« í”„ë¡œí¬ì¦ˆë¥¼ ì¤€ë¹„í•˜ëŠ” ê¹€ë¯¼ì¤€"></div>
                                    <div><label class="font-bold">ë‚˜ì´/ì§ì—…</label><input type="text" id="p1-info" class="w-full p-2 mt-1 border rounded" placeholder="ì˜ˆ: 30ëŒ€ ì´ˆë°˜ / íšŒì‚¬ì›"></div>
                                </div>
                                <div><label class="font-bold">ë°©ë¬¸ ëª©ì </label><input type="text" id="p1-purpose" class="w-full p-2 mt-1 border rounded" placeholder="ì˜ˆ: ì—¬ìì¹œêµ¬ì—ê²Œ ì„ ë¬¼í•  í”„ë¡œí¬ì¦ˆ ë°˜ì§€ êµ¬ë§¤"></div>
                                <div><label class="font-bold">êµ¬ë§¤ ê²°ì • ìš”ì¸ (Goals)</label><textarea id="p1-goals" class="w-full p-2 mt-1 border rounded" rows="2" placeholder="ì˜ˆ: ê·¸ë…€ê°€ ì¢‹ì•„í•  ë§Œí•œ ì„¸ë ¨ëœ ë””ìì¸, ë¸Œëœë“œ ì‹ ë¢°ë„, í•©ë¦¬ì ì¸ ì˜ˆì‚°"></textarea></div>
                                <div><label class="font-bold">êµ¬ë§¤ ì‹œ ì–´ë ¤ì›€ (Pain Points)</label><textarea id="p1-pain" class="w-full p-2 mt-1 border rounded" rows="2" placeholder="ì˜ˆ: ì£¼ì–¼ë¦¬ì— ëŒ€í•´ ì˜ ëª¨ë¦„, ì–´ë–¤ ë””ìì¸ì„ ì„ í˜¸í• ì§€ í™•ì‹ ì´ ì—†ìŒ, ê°€ê²©ëŒ€ì— ëŒ€í•œ ë¶€ë‹´ê°"></textarea></div>
                                <div><label class="font-bold">ì£¼ìš” ì •ë³´ ì±„ë„</label><input type="text" id="p1-channel" class="w-full p-2 mt-1 border rounded" placeholder="ì˜ˆ: ì¸ìŠ¤íƒ€ê·¸ë¨, ë°±í™”ì  ë°©ë¬¸, ì¹œêµ¬ ì¶”ì²œ"></div>
                                <button id="persona-generator-btn" class="gemini-button w-full mt-4">âœ¨ AI í˜ë¥´ì†Œë‚˜ ë¶„ì„ ë° ì‘ëŒ€ ì „ëµ ì œì•ˆ</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
             <!-- Slide 2: ê³ ê° ê²½í—˜ ì—¬ì •ì§€ë„ ë§Œë“¤ê¸° -->
            <div class="slide">
                 <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M2: ê³ ê° ê²½í—˜ ì—¬ì • ì§€ë„ ë§Œë“¤ê¸°</h2>
                        <span class="font-bold text-gray-400">2 / 7</span>
                    </div>
                    <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ê³ ê°ì´ ìš°ë¦¬ ë¸Œëœë“œë¥¼ ê²½í—˜í•˜ëŠ” ëª¨ë“  ê³¼ì •ì„ ì‹œê°í™”í•˜ì—¬, ê¸ì •ì  ê²½í—˜ì€ ê°•í™”í•˜ê³  ë¶€ì •ì  ê²½í—˜ì€ ê°œì„ í•  ìˆ˜ ìˆëŠ” ê²°ì •ì  ìˆœê°„(MOT)ì„ ì°¾ì•„ëƒ…ë‹ˆë‹¤.</p>
                    </div>
                    <div id="m2-context" class="context-box hidden"></div>
                    <div class="flex-grow flex flex-col justify-center">
                        <h3 id="journey-title" class="text-xl font-bold mb-4 text-center">ğŸ—ºï¸ ê³ ê°ì˜ ì—¬ì •ì„ ë”°ë¼ê°€ë©° ê²½í—˜ ë””ìì¸í•˜ê¸°</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">M1ì—ì„œ ë§Œë“  í˜ë¥´ì†Œë‚˜ê°€ ê³¨ë“ ë“€ë¥¼ ë§Œë‚˜ê³  êµ¬ë§¤í•˜ê¸°ê¹Œì§€ì˜ ì—¬ì •ì„ ë‹¨ê³„ë³„ë¡œ ë¶„ì„í•˜ê³ , ê°œì„ í•  ì•„ì´ë””ì–´ë¥¼ ì°¾ì•„ë³´ì„¸ìš”.</p>
                        <div class="space-y-4 text-sm max-w-4xl mx-auto w-full">
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div><label class="font-bold">â‘  ì¸ì§€/íƒìƒ‰ ë‹¨ê³„</label><textarea id="j-step1" class="w-full p-2 mt-1 border rounded-md" rows="4" placeholder="[ì ‘ì ] ì¸ìŠ¤íƒ€ê·¸ë¨ ê´‘ê³ , ë°±í™”ì  ì‡¼ìœˆë„&#10;[ê³ ê° í–‰ë™] ê´‘ê³  í´ë¦­, ë§¤ì¥ ì•ì„ ì§€ë‚˜ê°€ë‹¤ êµ¬ê²½&#10;[ê¸ì •/ë¶€ì • ê²½í—˜] ëª¨ë¸ì´ ì°©ìš©í•œ ì œí’ˆì´ ì˜ˆë» ë³´ì„ / ê°€ê²© ì •ë³´ê°€ ì—†ì–´ ì•„ì‰¬ì›€"></textarea></div>
                                <div><label class="font-bold">â‘¡ ë§¤ì¥ ë°©ë¬¸/ìƒë‹´ ë‹¨ê³„</label><textarea id="j-step2" class="w-full p-2 mt-1 border rounded-md" rows="4" placeholder="[ì ‘ì ] ë§¤ì¥ ì…êµ¬, ì‡¼ì¼€ì´ìŠ¤, ìƒë‹´ ì§ì›&#10;[ê³ ê° í–‰ë™] ì œí’ˆ ì°©ìš©, ê°€ê²© ë¬¸ì˜, ì§ì›ì—ê²Œ ì¶”ì²œ ìš”ì²­&#10;[ê¸ì •/ë¶€ì • ê²½í—˜] ì§ì›ì´ ì¹œì ˆí•˜ê³  ì „ë¬¸ì ì„ / ë¶€ë‹´ìŠ¤ëŸ¬ìš´ ì‘ëŒ€ê°€ ë¶ˆí¸í•¨"></textarea></div>
                                <div><label class="font-bold">â‘¢ êµ¬ë§¤/ê²°ì œ ë‹¨ê³„</label><textarea id="j-step3" class="w-full p-2 mt-1 border rounded-md" rows="4" placeholder="[ì ‘ì ] ê²°ì œ ì¹´ìš´í„°, í¬ì¥&#10;[ê³ ê° í–‰ë™] ë©¤ë²„ì‹­ ê°€ì…, ìƒí’ˆê¶Œ ì‚¬ìš©, ê²°ì œ&#10;[ê¸ì •/ë¶€ì • ê²½í—˜] í¬ì¥ì´ ê³ ê¸‰ìŠ¤ëŸ¬ì›Œ ë§Œì¡±ìŠ¤ëŸ¬ì›€ / ëŒ€ê¸° ì‹œê°„ì´ ê¸¸ì—ˆìŒ"></textarea></div>
                            </div>
                            <button id="journey-mapper-btn" class="gemini-button w-full mt-4">âœ¨ AI ì—¬ì • ë¶„ì„ ë° ê°œì„ ì  ì œì•ˆ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 3: VOC ë¶„ì„ê¸° -->
            <div class="slide">
                <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M3: AI VOC ë¶„ì„ê¸°</h2>
                        <span class="font-bold text-gray-400">3 / 7</span>
                    </div>
                     <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ê³ ê°ì˜ ìƒìƒí•œ í”¼ë“œë°±(VOC) ì†ì— ìˆ¨ì–´ìˆëŠ” ì¹­ì°¬ê³¼ ë¶ˆë§Œì˜ ì§„ì§œ ì˜ë¯¸ë¥¼ íŒŒì•…í•˜ê³ , ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ê°œì„  í¬ì¸íŠ¸ë¥¼ ë„ì¶œí•˜ëŠ” ëŠ¥ë ¥ì„ ê¸°ë¦…ë‹ˆë‹¤.</p>
                    </div>
                    <div id="m3-context" class="context-box hidden"></div>
                    <div class="flex-grow flex flex-col justify-center">
                        <h3 class="text-xl font-bold mb-4 text-center">ğŸ—£ï¸ ê³ ê°ì˜ ëª©ì†Œë¦¬ì—ì„œ ê¸°íšŒ ë°œê²¬í•˜ê¸°</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">ê³ ê°ì´ ë‚¨ê¸´ ë¦¬ë·°, ì¹­ì°¬, ë¶ˆë§Œì‚¬í•­ ë“± ì‹¤ì œ VOCë¥¼ ì…ë ¥í•˜ê³  AIë¥¼ í†µí•´ í•µì‹¬ ê°ì •ê³¼ ê°œì„  í¬ì¸íŠ¸ë¥¼ ì‹ ì†í•˜ê²Œ íŒŒì•…í•˜ì„¸ìš”.</p>
                        <div class="max-w-2xl mx-auto w-full">
                            <label for="voc-input" class="font-bold text-sm">ì‹¤ì œ ê³ ê° VOC ë‚´ìš© ë¶™ì—¬ë„£ê¸°</label>
                            <textarea id="voc-input" class="w-full p-3 mt-1 border rounded-md" rows="8" placeholder="ì˜ˆ: &#10;â€œí”„ë¡œí¬ì¦ˆ ëª©ê±¸ì´ ìƒ€ëŠ”ë° ì—¬ìì¹œêµ¬ê°€ ë„ˆë¬´ ì¢‹ì•„í–ˆì–´ìš”! ìƒë‹´í•´ì£¼ì‹  ë§¤ë‹ˆì €ë‹˜ ì •ë§ ê°ì‚¬í•©ë‹ˆë‹¤.â€&#10;â€œAS ë§¡ê²¼ëŠ”ë° ìƒê°ë³´ë‹¤ ì˜¤ë˜ ê±¸ë¦¬ê³  ì—°ë½ë„ ì˜ ì•ˆë¼ì„œ ë‹µë‹µí–ˆìŠµë‹ˆë‹¤.â€&#10;â€œí¬ì¥ íŒ¨í‚¤ì§€ê°€ ë” ê³ ê¸‰ìŠ¤ëŸ¬ì›Œì§€ë©´ ì„ ë¬¼í•  ë•Œ ë” ì¢‹ì„ ê²ƒ ê°™ì•„ìš”.â€"></textarea>
                            <button id="voc-analyzer-btn" class="gemini-button w-full mt-4">âœ¨ AI VOC ë¶„ì„ ë° ê°œì„  ì•„ì´ë””ì–´ ì œì•ˆ</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 4: CX ì „ëµ ë§Œë“¤ê¸° -->
            <div class="slide">
                <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M4: ìš°ë¦¬ ë§¤ì¥ CX ì „ëµ ë§Œë“¤ê¸°</h2>
                        <span class="font-bold text-gray-400">4 / 7</span>
                    </div>
                     <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ìš°ë¦¬ ë§¤ì¥ì˜ ê°•ì , ì•½ì , ê¸°íšŒ, ìœ„í˜‘(SWOT)ê³¼ ê²½ìŸì‚¬ í˜„í™©ì„ ë¶„ì„í•˜ì—¬, í•œì •ëœ ìì›ìœ¼ë¡œ ìµœëŒ€ì˜ íš¨ê³¼ë¥¼ ë‚¼ ìˆ˜ ìˆëŠ” CX ê³¼ì œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ê²°ì •í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div id="m4-context" class="context-box hidden"></div>
                    <div class="flex-grow flex flex-col justify-center">
                        <h3 id="strategy-title" class="text-xl font-bold mb-4 text-center">ğŸ’¡ ë°ì´í„° ê¸°ë°˜ì˜ ì°¨ë³„í™”ëœ CX ì „ëµ ìˆ˜ë¦½</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">ì´ì „ ë¶„ì„ ê²°ê³¼ì™€ ìš°ë¦¬ ë§¤ì¥ ë° ê²½ìŸì‚¬ í˜„í™©ì„ ë°”íƒ•ìœ¼ë¡œ, ì‹¤í–‰ ê°€ëŠ¥í•œ CX ê³¼ì œë¥¼ ë„ì¶œí•˜ê³  ìš°ì„ ìˆœìœ„ë¥¼ ì •í•´ë³´ì„¸ìš”.</p>
                        <div class="max-w-3xl mx-auto w-full bg-gray-50 border border-gray-200 rounded-lg p-6 space-y-4 text-sm">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                <div><label class="font-bold">Strengths (ê°•ì )</label><textarea id="swot-s" class="w-full p-2 mt-1 border rounded-md" rows="2" placeholder="ì˜ˆ: ìˆ™ë ¨ë˜ê³  ì¹œì ˆí•œ ì§ì›"></textarea></div>
                                <div><label class="font-bold">Weaknesses (ì•½ì )</label><textarea id="swot-w" class="w-full p-2 mt-1 border rounded-md" rows="2" placeholder="ì˜ˆ: ì£¼ë§ ìƒë‹´ ëŒ€ê¸° ì‹œê°„ ë°œìƒ"></textarea></div>
                                <div><label class="font-bold">Opportunities (ê¸°íšŒ)</label><textarea id="swot-o" class="w-full p-2 mt-1 border rounded-md" rows="2" placeholder="ì˜ˆ: ê·¼ì²˜ ì›¨ë”©í™€ ì—°ê³„ í”„ë¡œëª¨ì…˜"></textarea></div>
                                <div><label class="font-bold">Threats (ìœ„í˜‘)</label><textarea id="swot-t" class="w-full p-2 mt-1 border rounded-md" rows="2" placeholder="ì˜ˆ: ê·¼ì²˜ì— ê²½ìŸì‚¬ ì‹ ê·œ ë§¤ì¥ ì˜¤í”ˆ"></textarea></div>
                            </div>
                            <div>
                                <label class="font-bold">ê²½ìŸì‚¬ ë° ì°¨ë³„ì  ë¶„ì„</label>
                                <textarea id="s-competitor" class="w-full p-2 mt-1 border rounded-md" rows="3" placeholder="ì˜ˆ: Aê²½ìŸì‚¬ëŠ” ì €ê°€ ë¼ì¸ì—…ì´ ê°•ì , Bê²½ìŸì‚¬ëŠ” ì˜¨ë¼ì¸ ë§ˆì¼€íŒ…ì„ í™œë°œíˆ í•¨. ìš°ë¦¬ëŠ” ì „ë¬¸ì ì¸ ìƒë‹´ê³¼ ë†’ì€ í’ˆì§ˆë¡œ ìŠ¹ë¶€."></textarea>
                            </div>
                            <button id="strategy-generator-btn" class="gemini-button w-full mt-4">âœ¨ AI CX ê³¼ì œ ìš°ì„ ìˆœìœ„ ë¶„ì„</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 5: ìš°ë¦¬ ë§¤ì¥ë§Œì˜ ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤ ë§Œë“¤ê¸° -->
            <div class="slide">
                <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M5: ìš°ë¦¬ ë§¤ì¥ë§Œì˜ ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤ ë§Œë“¤ê¸°</h2>
                        <span class="font-bold text-gray-400">5 / 7</span>
                    </div>
                     <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ìˆ˜ë¦½ëœ CX ì „ëµì„ ë°”íƒ•ìœ¼ë¡œ ê³ ê°ì˜ ê¸°ì–µì— ì˜¤ë˜ ë‚¨ì„ ìš°ë¦¬ ë§¤ì¥ë§Œì˜ ë…ì°½ì ì¸ 'ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤'ë¥¼ ê¸°íší•˜ê³  êµ¬ì²´í™”í•˜ëŠ” ì°½ì˜ì  í›ˆë ¨ì„ í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div id="m5-context" class="context-box hidden"></div>
                     <div class="flex-grow flex flex-col justify-center">
                        <h3 class="text-xl font-bold mb-4 text-center">ğŸŒŸ ê³ ê°ì˜ ê¸°ì–µì— ë‚¨ì„ íŠ¹ë³„í•œ ê²½í—˜ ì„¤ê³„</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">M4ì—ì„œ ìˆ˜ë¦½í•œ CX ì „ëµì„ ì‹¤í–‰í•˜ê³  ê³ ê°ì„ ê°ë™ì‹œí‚¬ ìš°ë¦¬ ë§¤ì¥ë§Œì˜ ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤ë¥¼ AIì™€ í•¨ê»˜ ìƒìƒí•˜ê³  êµ¬ì²´í™”í•´ ë³´ì„¸ìš”.</p>
                         <div class="max-w-2xl mx-auto w-full space-y-4">
                             <div><label class="font-bold text-sm">ìš°ë¦¬ ë§¤ì¥ì´ ê³ ê°ì—ê²Œ ì „ë‹¬í•˜ê³  ì‹¶ì€ í•µì‹¬ ê°€ì¹˜</label><input type="text" id="sig-value" class="w-full p-2 mt-1 border rounded-md" placeholder="ì˜ˆ: 'ì¼ìƒì˜ ê°€ì¥ ë¹›ë‚˜ëŠ” ìˆœê°„', 'ì„¬ì„¸í•œ ì¥ì¸ì •ì‹ '"></div>
                             <div><label class="font-bold text-sm">ê³ ê°ì—ê²Œ ì–´ë–¤ íŠ¹ë³„í•œ ê°ì„±ì„ ì„ ë¬¼í•˜ê³  ì‹¶ë‚˜ìš”?</label><textarea id="sig-emotion" class="w-full p-2 mt-1 border rounded-md" rows="2" placeholder="ì˜ˆ: ì¡´ì¤‘ë°›ëŠ” ëŠë‚Œ, ë‚˜ë§Œì„ ìœ„í•œ íŠ¹ë³„í•¨, ì„¤ë ˜ê³¼ ê°ë™"></textarea></div>
                             <div><label class="font-bold text-sm">ì´ë¥¼ ìœ„í•´ ì–´ë–¤ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆì„ê¹Œìš”? (ììœ ë¡­ê²Œ ìƒìƒ)</label><textarea id="sig-idea" class="w-full p-2 mt-1 border rounded-md" rows="2" placeholder="ì˜ˆ: í”„ë¡œí¬ì¦ˆë¥¼ ìœ„í•œ ë°˜ì§€ ì¼€ì´ìŠ¤ ì»¤ìŠ¤í„°ë§ˆì´ì§•, êµ¬ë§¤ ì£¼ì–¼ë¦¬ì™€ ì–´ìš¸ë¦¬ëŠ” í–¥ìˆ˜ ìƒ˜í”Œ ì¦ì •"></textarea></div>
                             <button id="signature-service-btn" class="gemini-button w-full mt-4">âœ¨ AI ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤ ì•„ì´ë””ì–´ êµ¬ì²´í™”</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Slide 6: ê³ ê°ê³¼ì˜ ìŠ¤í¬ë¦½íŠ¸ ëŒ€í™”ë¬¸ ë§Œë“¤ê¸° -->
            <div class="slide">
                <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M6: SPIN ê¸°ë°˜ ìƒë‹´ ìŠ¤í¬ë¦½íŠ¸ ë§Œë“¤ê¸°</h2>
                        <span class="font-bold text-gray-400">6 / 7</span>
                    </div>
                     <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ë‹¨ìˆœ ìƒí’ˆ íŒë§¤ë¥¼ ë„˜ì–´ ê³ ê°ì˜ ìˆ¨ê²¨ì§„ ë‹ˆì¦ˆë¥¼ ì´ëŒì–´ë‚´ëŠ” SPIN ì…€ë§ í™”ë²•ì„ ìµíˆê³ , ì‹¤ì œ ìƒë‹´ ìƒí™©ì— ë°”ë¡œ ì ìš©í•  ìˆ˜ ìˆëŠ” ë§ì¶¤í˜• ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìƒì„±í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div id="m6-context" class="context-box hidden"></div>
                    <div class="flex-grow flex flex-col justify-center">
                        <h3 class="text-xl font-bold mb-4 text-center">ğŸ’¬ ê³ ê°ì˜ ë§ˆìŒì„ ì—¬ëŠ” ì§ˆë¬¸ì˜ ê¸°ìˆ , SPIN</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">ì•„ë˜ì— êµ¬ì²´ì ì¸ ìƒë‹´ ìƒí™©ì„ ì…ë ¥í•˜ê³ , ì´ì „ ë‹¨ê³„ì˜ ë¶„ì„ ê²°ê³¼ë¥¼ ëª¨ë‘ ì¢…í•©í•œ ìµœì ì˜ ìƒë‹´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ìƒì„±í•´ë³´ì„¸ìš”.</p>
                        <div class="max-w-3xl mx-auto w-full bg-gray-50 border border-gray-200 rounded-lg p-6 space-y-4 text-sm">
                            <div>
                                <label class="font-bold">ìƒë‹´ì´ í•„ìš”í•œ êµ¬ì²´ì ì¸ ìƒí™©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</label>
                                <textarea id="m6-situation" class="w-full p-2 mt-1 border rounded-md" rows="5" placeholder="ì˜ˆ: ì—¬ìì¹œêµ¬ ìƒì¼ì„ ë¬¼ë¡œ ëª©ê±¸ì´ë¥¼ ë³´ê³  ìˆëŠ”ë°, ì˜ˆì‚°ì€ 50ë§Œì› ì •ë„ì…ë‹ˆë‹¤. ì–´ë–¤ ê±¸ ì¶”ì²œí•´ì•¼ í• ì§€ ì˜ ëª¨ë¥´ê² ìŠµë‹ˆë‹¤. ì—¬ìì¹œêµ¬ëŠ” í‰ì†Œì— ì‹¬í”Œí•œ ìŠ¤íƒ€ì¼ì„ ì„ í˜¸í•©ë‹ˆë‹¤."></textarea>
                            </div>
                            <button id="final-script-generator-btn" class="gemini-button w-full mt-4">âœ¨ AI ë§ì¶¤ ìƒë‹´ ìŠ¤í¬ë¦½íŠ¸ ìƒì„±</button>
                        </div>
                    </div>
                </div>
            </div>

             <!-- Slide 7: ìµœì¢… ìš”ì•½ ë° ì •ë¦¬ -->
            <div class="slide">
                 <div>
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-bold">M7: ìµœì¢… ìš”ì•½ ë° ì •ë¦¬</h2>
                        <span class="font-bold text-gray-400">7 / 7</span>
                    </div>
                     <div class="learning-objective">
                        <p class="font-bold text-sm">ğŸ’¡ ì˜¤ëŠ˜ì˜ í•™ìŠµ ëª©í‘œ</p>
                        <p class="text-xs text-gray-600">ëª¨ë“  í•™ìŠµ ê³¼ì •ì„ ë³µìŠµí•˜ê³ , AIì˜ ìµœì¢… ì œì–¸ì„ í†µí•´ ìš°ë¦¬ ë§¤ì¥ë§Œì˜ CX ì „ëµì„ ì™„ì„±í•˜ì—¬ ì‹¤ì œ ì—…ë¬´ì— ì ìš©í•  ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ ì•¡ì…˜ í”Œëœì„ ìˆ˜ë¦½í•©ë‹ˆë‹¤.</p>
                    </div>
                    <div class="flex-grow flex flex-col justify-center">
                        <h3 class="text-xl font-bold mb-4 text-center">ğŸ“‹ CX ë””ìì¸ ì›Œí¬ìƒµ ê²°ê³¼ ë³´ê³ ì„œ</h3>
                        <p class="text-sm text-gray-600 mb-8 text-center max-w-2xl mx-auto">ì§€ê¸ˆê¹Œì§€ ì§„í–‰í•œ ëª¨ë“  ëª¨ë“ˆì˜ ê²°ê³¼ì…ë‹ˆë‹¤. ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ AIì˜ ìµœì¢… ì¢…í•© ë¶„ì„ì„ ë°›ì•„ë³´ì„¸ìš”.</p>
                        <div id="summary-content" class="flex-grow overflow-y-auto p-4 bg-gray-100 rounded-lg border max-h-[400px] space-y-6">
                            <!-- Summary sections will be populated by JS -->
                        </div>
                        <button id="final-report-btn" class="gemini-button w-full mt-6">âœ¨ AI ì¢…í•© ë¶„ì„ ë° ìµœì¢… ì œì–¸ ë°›ê¸°</button>
                    </div>
                </div>
            </div>
            
        </div>

        <!-- Navigation buttons container -->
        <div id="navigation-container" class="flex justify-between items-center mt-8">
            <button id="prev-btn" class="nav-button">â® ì´ì „ ë‹¨ê³„ë¡œ</button>
            <button id="next-btn" class="nav-button">ë‹¤ìŒ ë‹¨ê³„ë¡œ â¯</button>
        </div>
    </main>

    <!-- Gemini Modal -->
    <div id="gemini-modal" class="fixed inset-0 bg-gray-800 bg-opacity-60 overflow-y-auto h-full w-full hidden z-50 flex items-center justify-center p-4">
        <div class="relative mx-auto p-5 border w-full max-w-3xl shadow-lg rounded-xl bg-white">
            <div class="mt-3">
                <div class="flex justify-between items-center mb-4 pb-3 border-b">
                    <h3 id="modal-title" class="text-lg leading-6 font-bold text-gray-900">âœ¨ AI ìƒì„± ê²°ê³¼</h3>
                    <button id="close-modal-button" class="text-gray-400 hover:text-gray-600 text-3xl font-light">&times;</button>
                </div>
                <div id="modal-content" class="mt-2 px-2 py-3 max-h-[60vh] overflow-y-auto">
                    <div id="modal-loader" class="flex justify-center items-center py-10">
                        <div class="spinner"></div>
                        <p class="ml-4 text-gray-600">AIê°€ ë¶„ì„ ì¤‘ì…ë‹ˆë‹¤. ì ì‹œë§Œ ê¸°ë‹¤ë ¤ì£¼ì„¸ìš”...</p>
                    </div>
                    <div id="modal-text" class="text-sm text-gray-700 text-left whitespace-pre-wrap leading-relaxed"></div>
                </div>
                <div class="flex justify-end items-center px-4 py-3 mt-4 border-t bg-gray-50 rounded-b-xl">
                    <span id="copy-success" class="text-sm text-green-600 mr-4 hidden">ë³µì‚¬ ì™„ë£Œ!</span>
                    <button id="regenerate-button" class="gemini-button text-sm mr-2">âœ¨ ë‹¤ì‹œ ìƒì„±</button>
                    <button id="copy-button" class="bg-gray-200 text-gray-800 font-bold py-2 px-4 rounded-lg hover:bg-gray-300 text-sm">ë‚´ìš© ë³µì‚¬</button>
                </div>
            </div>
        </div>
    </div>
    
    <footer class="text-white text-center py-6 px-4 mt-12">
        <p class="text-sm text-gray-400">&copy; 2025 Golden-Dew CX Professional Program. All Rights Reserved.</p>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const trainingData = { modulesCompleted: new Set() };
            const moduleTitles = ["í˜ë¥´ì†Œë‚˜", "ì—¬ì • ì§€ë„", "VOC ë¶„ì„", "CX ì „ëµ", "ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤", "SPIN ìŠ¤í¬ë¦½íŠ¸", "ìµœì¢… ìš”ì•½"];
            const slides = document.querySelectorAll('.slide');
            const prevBtn = document.getElementById('prev-btn');
            const nextBtn = document.getElementById('next-btn');
            const progressIndicator = document.getElementById('progress-indicator');
            let currentSlide = 0;

            function setupProgressIndicator() {
                progressIndicator.innerHTML = '';
                moduleTitles.forEach((title, index) => {
                    const step = document.createElement('div');
                    step.className = 'step flex flex-col items-center text-center flex-1';
                    step.innerHTML = `<span class="step-circle">${index + 1}</span><span class="step-label">${title}</span>`;
                    progressIndicator.appendChild(step);

                    if (index < moduleTitles.length - 1) {
                        const connector = document.createElement('div');
                        connector.className = 'step-connector';
                        progressIndicator.appendChild(connector);
                    }
                });
            }

            function updateProgressIndicator() {
                const steps = progressIndicator.querySelectorAll('.step');
                steps.forEach((step, i) => {
                    step.classList.remove('active', 'completed');
                    if (i === currentSlide) {
                        step.classList.add('active');
                    } else if (trainingData.modulesCompleted.has(i)) {
                        step.classList.add('completed');
                        step.querySelector('.step-circle').innerHTML = 'âœ“';
                    } else {
                        step.querySelector('.step-circle').innerHTML = i + 1;
                    }
                });
            }
            
            function populateSummaryPage() {
                const summaryContainer = document.getElementById('summary-content');
                let content = '';
                
                const modules = [
                    { title: 'M1: ê³ ê° í˜ë¥´ì†Œë‚˜', data: trainingData.persona, fields: {name: 'ì´ë¦„', info: 'ì •ë³´', purpose: 'ëª©ì ', pain: 'ì–´ë ¤ì›€'} },
                    { title: 'M2: ê³ ê° ê²½í—˜ ì—¬ì • ì§€ë„', data: trainingData.journey, fields: {step1: 'ì¸ì§€/íƒìƒ‰', step2: 'ë°©ë¬¸/ìƒë‹´', step3: 'êµ¬ë§¤/ê²°ì œ'} },
                    { title: 'M3: VOC ë¶„ì„', data: trainingData, fields: {vocInput: 'ì…ë ¥ëœ VOC'} },
                    { title: 'M4: CX ì „ëµ ìˆ˜ë¦½ ì •ë³´', data: trainingData.strategy, fields: {swot_s: 'ê°•ì ', swot_w: 'ì•½ì ', swot_o: 'ê¸°íšŒ', swot_t: 'ìœ„í˜‘', competitor: 'ê²½ìŸì‚¬ ë¶„ì„'} }
                ];

                modules.forEach(module => {
                    content += `<div class="p-4 bg-white rounded-lg shadow-sm"><h4 class="font-bold text-base mb-2 text-gray-800">${module.title}</h4>`;
                    if (module.data && Object.values(module.data).some(v => v)) {
                        content += '<div class="text-sm space-y-1 text-gray-600">';
                        for (const [field, label] of Object.entries(module.fields)) {
                             if(module.data[field]) {
                                content += `<p class="whitespace-pre-wrap"><strong>${label}:</strong> ${module.data[field]}</p>`;
                             }
                        }
                        content += '</div>';
                    } else {
                        content += '<p class="text-sm text-gray-500">ì•„ì§ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p>';
                    }
                    content += '</div>';
                });
                
                summaryContainer.innerHTML = content;
            }
            
            function updateContextualData(index) {
                const contextBoxes = [
                    null, // M1
                    document.getElementById('m2-context'),
                    document.getElementById('m3-context'),
                    document.getElementById('m4-context'),
                    document.getElementById('m5-context'),
                    document.getElementById('m6-context'),
                ];
                
                contextBoxes.forEach(box => box?.classList.add('hidden'));

                if(index > 0 && index < contextBoxes.length) {
                    const box = contextBoxes[index];
                    let html = '';
                    let hasContext = false;
                    switch(index) {
                        case 1: // M2
                            if (trainingData.persona?.name) {
                                html = `<p class="font-bold text-sm">M1 ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ê¸°: '${trainingData.persona.name}' í˜ë¥´ì†Œë‚˜</p>
                                        <p class="text-xs mt-1"><strong>ì£¼ìš” ì–´ë ¤ì›€(Pain Point):</strong> ${trainingData.persona.pain || 'N/A'}</p>`;
                                hasContext = true;
                            }
                            break;
                        case 2: // M3
                             if (trainingData.persona?.name) {
                                html = `<p class="font-bold text-sm">CONTEXT: '${trainingData.persona.name}' ê³ ê°ê³¼ ê°™ì€ ë¶„ë“¤ì´ ë‚¨ê²¼ì„ VOCë¥¼ ìƒìƒí•˜ë©° ë¶„ì„í•´ë³´ì„¸ìš”.</p>`;
                                hasContext = true;
                            }
                            break;
                        case 3: // M4
                            html = '<p class="font-bold text-sm">CONTEXT: ì´ì „ ë‹¨ê³„ ë¶„ì„ ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ê¸°</p><ul class="text-xs list-disc list-inside mt-1 space-y-1">';
                            if (trainingData.persona?.pain) { html += `<li><strong>í˜ë¥´ì†Œë‚˜ í•µì‹¬ ë‹ˆì¦ˆ:</strong> ${trainingData.persona.pain}</li>`; hasContext = true; }
                            if (trainingData.journey?.step2) { html += `<li><strong>ì—¬ì • ì§€ë„ ê°œì„ ì :</strong> ìƒë‹´ ë‹¨ê³„ ê²½í—˜ ê°œì„  í•„ìš”</li>`; hasContext = true; }
                            if (trainingData.vocInput) { html += `<li><strong>VOC ì…ë ¥ë¨:</strong> "${trainingData.vocInput.substring(0,30)}..."</li>`; hasContext = true; }
                            html += '</ul>';
                            break;
                        case 4: // M5
                            html = '<p class="font-bold text-sm">CONTEXT: ì´ì „ ë‹¨ê³„ ë¶„ì„ ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ê¸°</p><ul class="text-xs list-disc list-inside mt-1 space-y-1">';
                            if (trainingData.persona?.name) { html += `<li><strong>íƒ€ê²Ÿ ê³ ê°:</strong> ${trainingData.persona.name} (${trainingData.persona.purpose})</li>`; hasContext = true; }
                            if (trainingData.strategy?.swot_s) { html += `<li><strong>ìš°ë¦¬ ë§¤ì¥ ê°•ì  í™œìš©:</strong> ${trainingData.strategy.swot_s}</li>`; hasContext = true; }
                            html += '</ul>';
                            break;
                        case 5: // M6
                            html = '<p class="font-bold text-sm">M1~M5 í•µì‹¬ ê²°ê³¼ ë¶ˆëŸ¬ì˜¤ê¸°</p><ul class="text-xs list-disc list-inside mt-1 space-y-1">';
                            if (trainingData.persona?.name) { html += `<li><strong>M1 í˜ë¥´ì†Œë‚˜:</strong> ${trainingData.persona.name} (${trainingData.persona.purpose}, ${trainingData.persona.pain})</li>`; hasContext = true; }
                            if (trainingData.journey?.step2) { html += `<li><strong>M2 ì—¬ì • Pain Point:</strong> ìƒë‹´ ë‹¨ê³„ ê²½í—˜ ê°œì„  í•„ìš”</li>`; hasContext = true; }
                            if (trainingData.vocInput) { html += `<li><strong>M3 VOC í•µì‹¬:</strong> "${trainingData.vocInput.substring(0,25)}..."</li>`; hasContext = true; }
                            if (trainingData.strategy?.swot_s) { html += `<li><strong>M4 ë§¤ì¥ ê°•ì :</strong> ${trainingData.strategy.swot_s}</li>`; hasContext = true; }
                            if (trainingData.signature?.value) { html += `<li><strong>M5 í•µì‹¬ ê°€ì¹˜:</strong> ${trainingData.signature.value}</li>`; hasContext = true; }
                            
                            if (!hasContext) {
                                html = '<p class="font-bold text-sm">ì´ì „ ë‹¨ê³„ì˜ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</p><p class="text-xs mt-1">ìŠ¤í¬ë¦½íŠ¸ ìƒì„±ì„ ìœ„í•´ M1ë¶€í„° ì§„í–‰í•´ì£¼ì„¸ìš”.</p>';
                            } else {
                                html += '</ul>';
                            }
                            break;
                    }
                    if(hasContext) {
                        box.innerHTML = html;
                        box.classList.remove('hidden');
                    }
                }
            }


            function showSlide(index) {
                slides.forEach((slide, i) => {
                    slide.style.display = 'none';
                });
                slides[index].style.display = 'flex';
                
                prevBtn.disabled = index === 0;
                nextBtn.disabled = index === slides.length - 1;

                updateProgressIndicator();
                updateContextualData(index);

                if (index === slides.length - 1) {
                    populateSummaryPage();
                }
            }

            nextBtn.addEventListener('click', () => {
                if (currentSlide < slides.length - 1) {
                    trainingData.modulesCompleted.add(currentSlide);
                    currentSlide++;
                    showSlide(currentSlide);
                }
            });

            prevBtn.addEventListener('click', () => {
                if (currentSlide > 0) {
                    currentSlide--;
                    showSlide(currentSlide);
                }
            });
            
            setupProgressIndicator();
            showSlide(currentSlide);

            const modal = document.getElementById('gemini-modal');
            const modalTitle = document.getElementById('modal-title');
            const modalLoader = document.getElementById('modal-loader');
            const modalText = document.getElementById('modal-text');
            const closeModalButton = document.getElementById('close-modal-button');
            const regenerateButton = document.getElementById('regenerate-button');
            const copyButton = document.getElementById('copy-button');
            const copySuccessMessage = document.getElementById('copy-success');

            let lastPrompt = '';

            const openModal = () => modal.classList.remove('hidden');
            const closeModal = () => modal.classList.add('hidden');

            closeModalButton.addEventListener('click', closeModal);
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });

            async function callGeminiAPI(prompt, retries = 3, delay = 1000) {
                const apiKey = "AIzaSyB0GwdQwPzmHqOjLh42nyZg7-YNKs9Ama0";
                const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`;
                const payload = { contents: [{ parts: [{ text: prompt }] }] };

                try {
                    const response = await fetch(apiUrl, {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(payload)
                    });

                    if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);
                    const result = await response.json();
                    return result.candidates?.[0]?.content?.parts?.[0]?.text || "ê²°ê³¼ë¥¼ ìƒì„±í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.";
                } catch (error) {
                    console.error("API call failed:", error);
                    if (retries > 0) {
                        await new Promise(res => setTimeout(res, delay));
                        return callGeminiAPI(prompt, retries - 1, delay * 2);
                    } else {
                        return "ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ ì£¼ì„¸ìš”.";
                    }
                }
            }
            
            function formatResponse(text) {
                return text
                    .replace(/(\*\*|### |## |# )/g, '')
                    .replace(/\* (.*?):/g, '<strong class="font-bold text-gray-900">$1:</strong>')
                    .replace(/^- (.*?)$/gm, '<li class="ml-4 list-disc">$1</li>')
                    .replace(/(?:\r\n|\r|\n){2,}/g, '<br><br>');
            }

            async function generateContent(prompt, title) {
                lastPrompt = prompt;
                modalTitle.textContent = title;
                modalText.innerHTML = '';
                modalLoader.style.display = 'flex';
                copySuccessMessage.classList.add('hidden');
                openModal();
                const result = await callGeminiAPI(prompt);
                modalLoader.style.display = 'none';
                modalText.innerHTML = formatResponse(result);
            }
            
            regenerateButton.addEventListener('click', () => {
                if (lastPrompt) generateContent(lastPrompt, modalTitle.textContent);
            });

            copyButton.addEventListener('click', () => {
                navigator.clipboard.writeText(modalText.innerText).then(() => {
                    copySuccessMessage.classList.remove('hidden');
                    setTimeout(() => copySuccessMessage.classList.add('hidden'), 2000);
                }).catch(err => console.error('Failed to copy: ', err));
            });

            // Slide 1: Persona
            document.getElementById('persona-generator-btn')?.addEventListener('click', () => {
                trainingData.persona = {
                    name: document.getElementById('p1-name').value, info: document.getElementById('p1-info').value,
                    purpose: document.getElementById('p1-purpose').value, goals: document.getElementById('p1-goals').value,
                    pain: document.getElementById('p1-pain').value, channel: document.getElementById('p1-channel').value
                };
                if (!trainingData.persona.name) { alert('í˜ë¥´ì†Œë‚˜ ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
                const prompt = `ë‹¹ì‹ ì€ 'ê³¨ë“ ë“€' CX ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤. ì•„ë˜ ê³ ê° í˜ë¥´ì†Œë‚˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ìˆ¨ê²¨ì§„ ë‹ˆì¦ˆë¥¼ íŒŒì•…í•˜ê³ , ìµœìƒì˜ ê³ ê° ê²½í—˜ì„ ì œê³µí•˜ê¸° ìœ„í•œ ë§ì¶¤í˜• ì‘ëŒ€ ì „ëµ 3ê°€ì§€ë¥¼ ì œì•ˆí•´ì£¼ì„¸ìš”.\n### ê³ ê° í˜ë¥´ì†Œë‚˜ ì •ë³´\n${JSON.stringify(trainingData.persona, null, 2)}\n### ìš”ì²­ì‚¬í•­\n1. **í˜ë¥´ì†Œë‚˜ ì‹¬ì¸µ ë¶„ì„**: ê³ ê°ì˜ ê°ì •(ë¶ˆì•ˆê°, ê¸°ëŒ€ê° ë“±)ê³¼ ì§„ì§œ ë‹ˆì¦ˆë¥¼ ì¶”ë¡ í•˜ì—¬ ë¶„ì„í•´ì£¼ì„¸ìš”.\n2. **ë§ì¶¤í˜• ì‘ëŒ€ ì „ëµ**: ë¶ˆì•ˆê° í•´ì†Œ ë° ì‹ ë¢°ë¥¼ ì¤„ ìˆ˜ ìˆëŠ” êµ¬ì²´ì ì¸ ì‘ëŒ€ ë©˜íŠ¸ì™€ í–‰ë™ 3ê°€ì§€ë¥¼ ì œì•ˆí•´ì£¼ì„¸ìš”.`;
                generateContent(prompt, `'${trainingData.persona.name}' í˜ë¥´ì†Œë‚˜ ë¶„ì„`);
                document.getElementById('journey-title').textContent = `ğŸ—ºï¸ '${trainingData.persona.name}'ë‹˜ì˜ ì—¬ì • ì§€ë„ ë§Œë“¤ê¸°`;
                document.getElementById('strategy-title').textContent = `ğŸ’¡ '${trainingData.persona.name}'ë‹˜ì„ ìœ„í•œ CX ì „ëµ`;
            });
            
            // Slide 2: Journey
            document.getElementById('journey-mapper-btn')?.addEventListener('click', () => {
                trainingData.journey = { step1: document.getElementById('j-step1').value, step2: document.getElementById('j-step2').value, step3: document.getElementById('j-step3').value };
                if (!trainingData.journey.step1) { alert('ì—¬ì • ë‹¨ê³„ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
                const personaContext = trainingData.persona ? ` M1ì˜ '${trainingData.persona.name}' í˜ë¥´ì†Œë‚˜ ì—¬ì •ì´ë¼ê³  ê°€ì •í•©ë‹ˆë‹¤.` : '';
                const prompt = `ë‹¹ì‹ ì€ 'ê³¨ë“ ë“€' CX ë””ìì´ë„ˆì…ë‹ˆë‹¤. ì•„ë˜ ê³ ê° ê²½í—˜ ì—¬ì • ì§€ë„ë¥¼ ë¶„ì„í•˜ì—¬, ë‹¨ê³„ë³„ ê²½í—˜ì„ í–¥ìƒì‹œí‚¬ ê²°ì •ì  ìˆœê°„(MOT)ì„ ì°¾ì•„ë‚´ê³ , ê°œì„  ì•„ì´ë””ì–´ 3ê°€ì§€ë¥¼ ì œì•ˆí•´ì£¼ì„¸ìš”.${personaContext}\n### ê³ ê° ê²½í—˜ ì—¬ì • ì§€ë„\n${JSON.stringify(trainingData.journey, null, 2)}\n### ìš”ì²­ì‚¬í•­\n1. **í•µì‹¬ Pain Point ì§„ë‹¨**: ê° ë‹¨ê³„ì˜ ë¶ˆí¸í•¨ì„ ëª…í™•í•˜ê²Œ ì§„ë‹¨í•´ì£¼ì„¸ìš”.\n2. **MOT ê°œì„  ì•„ì´ë””ì–´**: ì§„ë‹¨ëœ ë¬¸ì œì ì„ í•´ê²°í•˜ê³  ê°ë™ì„ ì¤„ ìˆ˜ ìˆëŠ” ì‹¤í–‰ ë°©ì•ˆ 3ê°€ì§€ë¥¼ ì œì•ˆí•´ì£¼ì„¸ìš”.`;
                generateContent(prompt, `ê³ ê° ê²½í—˜ ì—¬ì • ì§€ë„ ë¶„ì„`);
            });

            // Slide 3: VOC
            document.getElementById('voc-analyzer-btn')?.addEventListener('click', () => {
                trainingData.vocInput = document.getElementById('voc-input').value;
                if (!trainingData.vocInput) { alert('VOC ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
                const prompt = `ë‹¹ì‹ ì€ 'ê³¨ë“ ë“€' CX ë°ì´í„° ë¶„ì„ê°€ì…ë‹ˆë‹¤. ì•„ë˜ VOC ë‚´ìš©ì„ ë¶„ì„í•˜ì—¬ ì²´ê³„ì ìœ¼ë¡œ ì •ë¦¬í•˜ê³ , ì‹¤í–‰ ê°€ëŠ¥í•œ ê°œì„  ë°©ì•ˆì„ ì œì•ˆí•´ì£¼ì„¸ìš”.\n### ê³ ê° VOC ì›ë¬¸\n${trainingData.vocInput}\n### ë¶„ì„ ìš”ì²­ì‚¬í•­\n1. **VOC ìš”ì•½ ë° ê°ì • ë¶„ë¥˜**\n2. **ê´€ë ¨ ë¶€ì„œ ë° í”„ë¡œì„¸ìŠ¤ ì‹ë³„**\n3. **ê·¼ë³¸ ì›ì¸ ì¶”ë¡ **\n4. **Action Item ì œì•ˆ (ë‹¨ê¸°/ì¥ê¸°)**`;
                generateContent(prompt, `AI VOC ì‹¬ì¸µ ë¶„ì„ ë³´ê³ ì„œ`);
            });
            
            // Slide 4: Strategy
            document.getElementById('strategy-generator-btn')?.addEventListener('click', () => {
                trainingData.strategy = {
                    swot_s: document.getElementById('swot-s').value, swot_w: document.getElementById('swot-w').value,
                    swot_o: document.getElementById('swot-o').value, swot_t: document.getElementById('swot-t').value,
                    competitor: document.getElementById('s-competitor').value
                };
                if (!trainingData.strategy.swot_s) { alert('SWOT ë¶„ì„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
                const contextPrompt = `### ì¢…í•© ë°ì´í„°\n- **í˜ë¥´ì†Œë‚˜**: ${JSON.stringify(trainingData.persona)}\n- **ì—¬ì • Pain Point**: ${trainingData.journey?.step2}\n- **VOC**: ${trainingData.vocInput?.substring(0, 50)}...`;
                const prompt = `ë‹¹ì‹ ì€ 'ê³¨ë“ ë“€' CX ì „ëµê°€ì…ë‹ˆë‹¤. ì•„ë˜ ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì‹¤í–‰ ê°€ëŠ¥í•œ CX ê°œì„  ê³¼ì œë¥¼ ë„ì¶œí•˜ê³  ìš°ì„ ìˆœìœ„ë¥¼ ì •í•´ì£¼ì„¸ìš”.\n${contextPrompt}\n### ìš°ë¦¬ ë§¤ì¥ SWOT ë° ê²½ìŸì‚¬ ë¶„ì„\n${JSON.stringify(trainingData.strategy, null, 2)}\n### ìš”ì²­ì‚¬í•­\n1. **CX ê°œì„  ê³¼ì œ 5ê°€ì§€ ë„ì¶œ**\n2. **ê³¼ì œ í‰ê°€ (ì¤‘ìš”ë„, ì‹œê¸‰ì„±, ì‹¤í˜„ê°€ëŠ¥ì„±)**: 'ìƒ', 'ì¤‘', 'í•˜'ë¡œ í‰ê°€\n3. **ìš°ì„ ìˆœìœ„ ì„ ì • ë° ì´ìœ **: 1ìˆœìœ„ ê³¼ì œ ì„ ì • ë° ì´ìœ  ì„¤ëª…`;
                generateContent(prompt, `ìš°ë¦¬ ë§¤ì¥ CX ê³¼ì œ ìš°ì„ ìˆœìœ„ ë¶„ì„`);
            });

            // Slide 5: Signature Service
            document.getElementById('signature-service-btn')?.addEventListener('click', () => {
                 trainingData.signature = { value: document.getElementById('sig-value').value, emotion: document.getElementById('sig-emotion').value, idea: document.getElementById('sig-idea').value };
                if (!trainingData.signature.value) { alert('í•µì‹¬ ê°€ì¹˜ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.'); return; }
                const contextPrompt = trainingData.persona ? `\n* **ì£¼ìš” íƒ€ê²Ÿ ê³ ê°**: '${trainingData.persona.name}' ê°™ì€ ê³ ê°(${trainingData.persona.pain})ì—ê²Œ íŠ¹ë³„í•œ ê²½í—˜ì„ ì œê³µí•´ì•¼ í•¨.\n` : '';
                const prompt = `ë‹¹ì‹ ì€ ì„œë¹„ìŠ¤ ë””ìì´ë„ˆì…ë‹ˆë‹¤. 'ê³¨ë“ ë“€' ë§¤ì¥ì´ 'ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤'ë¥¼ ë§Œë“¤ê³ ì í•©ë‹ˆë‹¤. ì•„ë˜ ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë…ì°½ì ì´ê³  ì‹¤í–‰ ê°€ëŠ¥í•œ ì•„ì´ë””ì–´ 3ê°€ì§€ë¥¼ êµ¬ì²´ì ìœ¼ë¡œ ì œì•ˆí•´ì£¼ì„¸ìš”.\n### ê¸°íš ë°©í–¥\n${JSON.stringify(trainingData.signature, null, 2)}${contextPrompt}\n### ìš”ì²­ì‚¬í•­\n1. **ì„œë¹„ìŠ¤ ì»¨ì…‰ ì •ì˜** (ì´ë¦„, í•œ ë¬¸ì¥ ì»¨ì…‰)\n2. **êµ¬ì²´ì ì¸ ì‹¤í–‰ ë°©ë²•** (ì‹œë‚˜ë¦¬ì˜¤)\n3. **í•„ìš” ìì› ë° ì¤€ë¹„ì‚¬í•­**`;
                generateContent(prompt, `ìš°ë¦¬ ë§¤ì¥ ì‹œê·¸ë‹ˆì²˜ ì„œë¹„ìŠ¤ ì•„ì´ë°ì´ì…˜`);
            });

            // Slide 6: Final Script Generator
            document.getElementById('final-script-generator-btn')?.addEventListener('click', () => {
                const situation = document.getElementById('m6-situation').value;
                if (!situation) {
                    alert("ìƒë‹´ ìƒí™©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
                    return;
                }
                trainingData.scriptSituation = situation;

                let contextPrompt = "### ì¢…í•© ë¶„ì„ ë°ì´í„°\n";
                if (trainingData.persona) contextPrompt += `- **ê³ ê° í˜ë¥´ì†Œë‚˜**: ${JSON.stringify(trainingData.persona, null, 2)}\n`;
                if (trainingData.strategy) contextPrompt += `- **ë§¤ì¥ ë¶„ì„**: ${JSON.stringify(trainingData.strategy, null, 2)}\n`;
                if (trainingData.signature) contextPrompt += `- **ë§¤ì¥ í•µì‹¬ ê°€ì¹˜**: ${JSON.stringify(trainingData.signature, null, 2)}\n`;
                contextPrompt += `- **í˜„ì¬ ìƒë‹´ ìƒí™©**: ${situation}\n`;

                const prompt = `ë‹¹ì‹ ì€ 'ê³¨ë“ ë“€'ì˜ VVIP ìƒë‹´ ì „ë¬¸ê°€ì…ë‹ˆë‹¤. ì•„ë˜ì˜ ì¢…í•© ë°ì´í„°ì™€ êµ¬ì²´ì ì¸ ìƒë‹´ ìƒí™©ì„ ë°”íƒ•ìœ¼ë¡œ, ê³ ê°ì˜ ë§ˆìŒì„ ì—´ê³  êµ¬ë§¤ê¹Œì§€ ì´ì–´ì§ˆ ìˆ˜ ìˆëŠ” ì´ìƒì ì¸ SPIN ì…€ë§ ìƒë‹´ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

        ${contextPrompt}

        ### ìŠ¤í¬ë¦½íŠ¸ ì‘ì„± ìš”ì²­ì‚¬í•­
        1.  **ìƒí™© ìš”ì•½**: ë¨¼ì €, ì£¼ì–´ì§„ ëª¨ë“  ì •ë³´ë¥¼ ë°”íƒ•ìœ¼ë¡œ í˜„ì¬ ìƒë‹´ ìƒí™©ì„ í•œ ë¬¸ë‹¨ìœ¼ë¡œ ìš”ì•½í•´ì£¼ì„¸ìš”.
        2.  **ìŠ¤í¬ë¦½íŠ¸ ëŒ€í™”ë¬¸**: 'ì§ì›'ê³¼ 'ê³ ê°'ì˜ ëŒ€í™”ì²´ í˜•ì‹ìœ¼ë¡œ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.
            -   ê° ëŒ€ì‚¬ëŠ” "ì§ì›:", "ê³ ê°:"ìœ¼ë¡œ ì‹œì‘í•´ì•¼ í•©ë‹ˆë‹¤.
            -   ìŠ¤í¬ë¦½íŠ¸ëŠ” **Situation(ìƒí™©), Problem(ë¬¸ì œ), Implication(ì‹œì‚¬), Need-payoff(í•´ê²°)**ì˜ 4ë‹¨ê³„ íë¦„ì„ ìì—°ìŠ¤ëŸ½ê²Œ ë”°ë¼ì•¼ í•©ë‹ˆë‹¤.
            -   ì´ì „ ë‹¨ê³„ì—ì„œ ë¶„ì„í•œ ê³ ê°ì˜ 'ì–´ë ¤ì›€(Pain Points)'ê³¼ ë§¤ì¥ì˜ 'ê°•ì 'ì„ ëŒ€í™”ì— ë…¹ì—¬ë‚´ì„¸ìš”.`;

                generateContent(prompt, `ë§ì¶¤í˜• ìƒë‹´ ìŠ¤í¬ë¦½íŠ¸`);
            });

            // Slide 7: Final Report
            document.getElementById('final-report-btn')?.addEventListener('click', () => {
                const finalPrompt = `ë‹¹ì‹ ì€ 'ê³¨ë“ ë“€'ì˜ ìˆ˜ì„ CX ì»¨ì„¤í„´íŠ¸ì…ë‹ˆë‹¤. ì•„ë˜ëŠ” í•œ ë§¤ì¥ì˜ CX ë””ìì¸ ì›Œí¬ìƒµ ê²°ê³¼ ë°ì´í„°ì…ë‹ˆë‹¤. ì´ ëª¨ë“  ë°ì´í„°ë¥¼ ì¢…í•©ì ìœ¼ë¡œ ë¶„ì„í•˜ì—¬, í•´ë‹¹ ë§¤ì¥ì´ ì•ìœ¼ë¡œ ì‹¤í–‰í•´ì•¼ í•  ìµœì¢…ì ì¸ CX ì „ëµê³¼ êµ¬ì²´ì ì¸ ì•¡ì…˜ í”Œëœì„ ë‹´ì€ ìµœì¢… ë³´ê³ ì„œë¥¼ ì‘ì„±í•´ì£¼ì„¸ìš”.

### M1: ê³ ê° í˜ë¥´ì†Œë‚˜
${JSON.stringify(trainingData.persona, null, 2)}

### M2: ê³ ê° ê²½í—˜ ì—¬ì • ì§€ë„
${JSON.stringify(trainingData.journey, null, 2)}

### M3: VOC ë¶„ì„
${trainingData.vocInput}

### M4: SWOT ë° ê²½ìŸì‚¬ ë¶„ì„
${JSON.stringify(trainingData.strategy, null, 2)}

### ìµœì¢… ë³´ê³ ì„œ ìš”ì²­ì‚¬í•­
1. **í˜„í™© ì§„ë‹¨**: ìˆ˜ì§‘ëœ ëª¨ë“  ë°ì´í„°ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì´ ë§¤ì¥ì˜ CX í˜„ì£¼ì†Œë¥¼ í•œ ë¬¸ë‹¨ìœ¼ë¡œ ìš”ì•½ ì§„ë‹¨í•´ì£¼ì„¸ìš”.
2. **í•µì‹¬ ì „ëµ ë°©í–¥ ì œì‹œ**: ì§„ë‹¨ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ, ì´ ë§¤ì¥ì´ ë‚˜ì•„ê°€ì•¼ í•  ê°€ì¥ ì¤‘ìš”í•œ CX ì „ëµ ë°©í–¥ì„ 1~2ê°€ì§€ ì œì‹œí•´ì£¼ì„¸ìš”.
3. **í†µí•© ì•¡ì…˜ í”Œëœ**: M1~M4ì˜ ë‚´ìš©ì„ ëª¨ë‘ ê´€í†µí•˜ëŠ” êµ¬ì²´ì ì¸ ì‹¤í–‰ ê³¼ì œë¥¼ 3ê°€ì§€ ì œì•ˆí•˜ê³ , ê° ê³¼ì œë¥¼ ì–´ë–¤ ìˆœì„œë¡œ ì‹¤í–‰í•´ì•¼ í• ì§€ ë¡œë“œë§µì„ ê·¸ë ¤ì£¼ì„¸ìš”.
4. **ê¸°ëŒ€íš¨ê³¼ ë° ë§ˆë¬´ë¦¬**: ì œì•ˆëœ ì „ëµ ì‹¤í–‰ ì‹œ ê¸°ëŒ€í•  ìˆ˜ ìˆëŠ” íš¨ê³¼ë¥¼ ì„¤ëª…í•˜ê³ , ë§¤ì¥ ì§ì›ë“¤ì—ê²Œ ë™ê¸°ë¥¼ ë¶€ì—¬í•˜ëŠ” ë©”ì‹œì§€ë¡œ ë§ˆë¬´ë¦¬í•´ì£¼ì„¸ìš”.`;
                generateContent(finalPrompt, "CX ë””ìì¸ ì›Œí¬ìƒµ ìµœì¢… ë³´ê³ ì„œ");
            });

        });
    </script>
</body>
</html>

